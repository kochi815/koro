<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>けいさんバトル！</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=M+PLUS+Rounded+1c:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <div id="character-select-container">
        <h1>しゅじんこうを えらぼう！</h1>
        <div id="character-list"></div>
    </div>

    <div id="home-container" class="hidden">
        <h2>ホーム</h2>
        <div id="home-player-status">
            <div id="home-player-emoji"></div>
            <div id="home-player-name"></div>
            <div id="home-coin-display"></div>
        </div>
        <div id="home-menu">
            <button id="go-to-battle-btn" class="home-menu-btn">ぼうけんへ</button>
            <button id="go-to-study-btn" class="home-menu-btn">けいさんトレーニング</button>
            <button id="go-to-shop-btn" class="home-menu-btn">ショップ</button>
        </div>
    </div>

    <div id="game-container" class="hidden">
        <button id="back-to-home-from-battle" class="back-to-home-btn">ホームへ</button>
        <div id="enemy-area" class="character-area">
             <div class="character-info">
                <span id="enemy-name" class="character-name"></span>
                <span class="character-hp-text">HP: <span id="enemy-hp-text"></span></span>
            </div>
            <div class="hp-bar-container"><div id="enemy-hp-bar" class="hp-bar"></div></div>
            <div id="enemy-character" class="character-display"></div>
        </div>
        <div id="player-status-area" class="character-area">
            <div id="player-character" class="character-display"></div>
            <div id="player-info-text" class="character-name"></div>
            <div class="status-bars">
                <div class="bar-label">HP</div>
                <div class="hp-bar-container"><div id="player-hp-bar" class="hp-bar"></div></div>
                <div id="player-hp-text" class="bar-text"></div>
            </div>
            <div class="status-bars">
                <div class="bar-label">MP</div>
                <div class="mp-bar-container"><div id="player-mp-bar" class="mp-bar"></div></div>
                <div id="player-mp-text" class="bar-text"></div>
            </div>
        </div>
        <div id="message-area"><p id="message-text"></p></div>
        <div id="command-area">
            <button id="attack-btn">たたかう</button>
            <button id="skills-btn">とくぎ</button>
            <button id="items-btn">どうぐ</button>
            <button id="restart-btn" class="hidden">もういちど！</button>
        </div>
    </div>

    <div id="study-container" class="hidden">
        <h2>けいさんチャレンジ！</h2>
        <div id="study-status">
            <div id="question-progress"></div>
            <div id="study-score">SCORE: 0</div>
        </div>
        <div id="question-area">
            <p id="study-feedback-text"></p>
            <div id="question-text"></div>
        </div>
        <div id="study-answer-choices">
            </div>
        <button id="close-study-btn">ホームへもどる</button>
    </div>

    <div id="shop-container" class="hidden">
        <h2>🗡️ ショップ 🛡️</h2>
        <p>いらっしゃい！何にするかい？</p>
        <div id="shop-items-list"></div>
        <div id="shop-info">
            <p id="shop-message"></p>
            <button id="close-shop-btn">お店を出る</button>
        </div>
    </div>

    <div id="modal-container" class="hidden">
        <div id="modal-content">
            <div id="modal-list"></div>
            <button id="modal-close-btn">もどる</button>
        </div>
    </div>
    
    <script src="gamedata.js"></script>
    <script src="script.js"></script>
</body>
</html>